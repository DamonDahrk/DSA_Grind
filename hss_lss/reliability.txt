Reliability is the probability that a system will perform its intended function correctly over a given period of time,
 under specified conditions.

Availability	Is the system responding?	System returns HTTP 200
Reliability	    Is the response correct?	The balance returned is accurate
Fault Tolerance	Does it keep working 
                when components fail?	    Works with one database replica down

example:

A payment system that charges customers twice is available (it processes requests) 
but unreliable (it processes them incorrectly). A database that loses writes during 
failover is fault-tolerant (it continues operating) but not durable (data was lost).

1. Mean Time Between Failures (MTBF)
MTBF measures the average time between failures. A higher MTBF means failures are less frequent.

MTBF = Total Operating Time / Number of Failures

  - System ran for 10,000 hours
  - Experienced 5 failures
  - MTBF = 10,000 / 5 = 2,000 hours

An MTBF of 2,000 hours means you can expect one failure roughly every 83 days. 
This helps with planning

2. Mean Time To Recovery (MTTR)
MTTR measures how long it takes to restore the system after a failure. A lower MTTR means faster recovery.

MTTR = Total Downtime / Number of Failures

  - 5 failures occurred
  - Total repair time: 10 hours
  - MTTR = 10 / 5 = 2 hours per failure

MTTR includes detection time, diagnosis time, repair time, and verification time.
Reducing MTTR often has more impact than reducing failure rate.

3. Error Rate
Percentage of requests that result in errors.

Error Rate = Failed Requests / Total Requests × 100%

System Type	Target Error Rate	Meaning
Critical systems	< 0.01%	1 in 10,000 requests fails  eg.Medical systems, Aircraft control systems
                                                         Banking transaction systems
Standard systems	< 0.1%	1 in 1,000 requests fails eg. E-commerce websites
                                                         Internal enterprise apps (users can retry)
Tolerant systems	< 1%	1 in 100 requests fails  eg. Ad tracking Recommendation engines
                                                             Background batch jobs

4. Data Correctness
Percentage of responses that contain correct data.

Correctness = Correct Responses / Total Responses × 100%

This is the often-overlooked metric. A system can have 99.99% availability and 0.01% error rate, 
but if 1% of successful responses contain wrong data, you have a reliability problem.

Why Systems Become Unreliable:

Hardware Failures : Network card malfunctions/ CPUs overheat, disk develop bad sectors
Software Failures : Software bugs are the leading cause of the reliability problems 
                    Unlike hardware failures i,e random, buggy code path fails
Config errors:  Common, typo in config file can take down a service 
                AWS's S3 outage in 2017 was triggered by a command to remove a 
                small number of servers that accidentally removed a much larger set.

Human Error         Self explanatory
Overload and Cascading Failures :  Systems that work perfectly under normal load can fail
                                     catastrophically when overloaded. 
                                    When one component slows down, requests queue up,
                                     timeouts fire,

Key Principles of Reliable Systems

Redundancy: Redundancy means having backup components ready to take over if one part fails. 

Failover Mechanisms: Failover is the process by which a system automatically switches to a redundant
                     or standby component when a failure is detected.

Load Balancing: Load balancing distributes incoming traffic across multiple servers. 

Monitoring and Alerting: A reliable system is constantly monitored. Tools and dashboards 
                        track system health and performance, while alerting mechanisms 
                        notify engineers of issues before they escalate into major problems.

Graceful Degradation:   Even when parts of the system fail, a well-designed system can still 
                        provide core functionality rather than going completely offline.
                         This concept is known as graceful degradation.

Techniques to Enhance Reliability:

1. Redundant Architectures: 
The most fundamental reliability technique is having more components than you need.
 If one fails, others continue operating.

 2. Data Replication Ensure your data is not stored in a single location. 
 Use data replication strategies across multiple databases or data centers.

 3. Graceful Degradation: When parts of the system fail, graceful degradation keeps the core functionality working. 
 Instead of complete failure, the system provides reduced service.

 Degradation Levels: 
 Full service: All features available: Personalized rec, realtime inventory, all payment options
 Partial Service: Generic recomms, cached inventory, primary payment options , non crit services disabled
 Core only : Browse products and then pay only (essential funcs)
 Emergency Mode (Minimal func) : Display cached product pages accept orders for later processing

 4. Circuit Breakers

 In a microservices architecture, one service failing can cascade failures throughout the system. Circuit breakers detect when a service is failing and temporarily 
 cut off requests to prevent overload, allowing the system to recover gracefully. added img in dir

 In the closed state, requests pass through normally. Failures are counted. When failures
  exceed a threshold (e.g., 5 failures in 30 seconds), the circuit opens.

In the open state, requests fail immediately without calling the dependency. 
This prevents wasting resources and allows the dependency time to recover.

After a timeout (some seconds), the circuit moves to half-open. A limited number of test req
are allowed thru. If they succeed, the circuit closes. If they fail, it opens again.

5. Idempotency

Client sends 100$ to Server -> insert transfer abc123 (ID Generated) to Database,
 but the response is lost
Client doesnt know if it worked, they transfer 100$ again *retry* (ID : abc123) 
                            -> Transfer abc123 again
                            -> DB ignores as it already exists
Server sends success (already processed) 

SO ONLY 100 DOLLARS IS TRANSFERRED NOT 200 DOLLARS 

This is IDEMPOTENCE. Idempotent operations produce the same result 
regardless of how many times they are executed.

The idempotency key (abc123) allows the server to detect retries. The first execution 
stores the key. Subsequent executions with the same key return the stored result without re-executing.

Stripe, Paypal and other payment processors require idempotency keys for money moving operations